# 数据库设计

## 1. 基础信息管理、系统维护（A负责）
- drug_info（药品信息表）
- employee_info（员工信息表）
- customer_info（客户信息表）
- supplier_info（供应商信息表）
- permission（权限表）
- role（角色表）
- role_permission（角色权限关联表）
- user_role（用户角色关联表）
- system_log（系统日志表）

## 2. 进货管理、库房管理（B负责）
- stock_in（入库登记表）
- inventory（库存表）
- warehouse（仓库表）
- inventory_check（库存盘点表）
- return_stock（退货处理表）

## 3. 销售管理、财务统计（C负责）
- sales（销售登记表）
- sales_return（销售退货表）
- finance_stat（财务统计表）

---

## 主要表结构设计（字段示例）

### drug_info（药品信息表）
- drug_id (PK)
- name
- spec
- manufacturer
- approval_number
- category (处方/非处方)
- unit
- purchase_price
- sale_price
- expiry_date
- status (在售/下架)
- create_time
- update_time

### employee_info（员工信息表）
- employee_id (PK)
- name
- department
- position
- phone
- hire_date
- account
- password (加密)
- status
- create_time
- update_time

### customer_info（客户信息表）
- customer_id (PK)
- name
- type (零售/批发)
- contact
- phone
- address
- create_time
- update_time

### supplier_info（供应商信息表）
- supplier_id (PK)
- name
- contact
- phone
- address
- qualification_no
- create_time
- update_time

### permission（权限表）
- permission_id (PK)
- name
- description

### role（角色表）
- role_id (PK)
- name
- description

### role_permission（角色权限关联表）
- id (PK)
- role_id (FK)
- permission_id (FK)

### user_role（用户角色关联表）
- id (PK)
- employee_id (FK)
- role_id (FK)

### system_log（系统日志表）
- log_id (PK)
- employee_id (FK)
- action_type (新增/修改/删除/登录/导出等)
- table_name
- action_time
- action_content

### stock_in（入库登记表）
- stock_in_id (PK)
- drug_id (FK)
- supplier_id (FK)
- quantity
- unit_price
- total_price
- stock_in_date
- employee_id (FK)
- remark
- create_time

### inventory（库存表）
- inventory_id (PK)
- drug_id (FK)
- warehouse_id (FK)
- quantity
- location
- last_check_date
- create_time
- update_time

### warehouse（仓库表）
- warehouse_id (PK)
- name
- address
- manager_id (FK)
- create_time

### inventory_check（库存盘点表）
- check_id (PK)
- drug_id (FK)
- warehouse_id (FK)
- checked_quantity
- actual_quantity
- diff_reason
- check_date
- employee_id (FK)
- create_time

### return_stock（退货处理表）
- return_id (PK)
- drug_id (FK)
- supplier_id (FK)
- quantity
- reason
- return_date
- employee_id (FK)
- create_time

### sales（销售登记表）
- sales_id (PK)
- drug_id (FK)
- customer_id (FK)
- quantity
- unit_price
- total_price
- sales_date
- employee_id (FK)
- create_time

### sales_return（销售退货表）
- sales_return_id (PK)
- sales_id (FK)
- quantity
- reason
- return_date
- employee_id (FK)
- create_time

### finance_stat（财务统计表）
- stat_id (PK)
- stat_type (日/月)
- stat_date
- total_sales
- total_cost
- total_profit
- employee_id (FK)
- create_time
