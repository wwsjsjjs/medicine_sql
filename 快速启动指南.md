# 医药管理系统 - 快速启动指南

## 🚀 快速开始

### 步骤1: 生成测试数据
```bash
python init_data.py
```

这将创建：
- ✅ 17个数据表结构
- ✅ 4个员工
- ✅ 3个供应商  
- ✅ 4个客户
- ✅ 2个仓库
- ✅ 15种药品
- ✅ 随机入库和库存记录
- ✅ 100条销售记录

### 步骤2: 启动服务
```bash
python app.py
```

### 步骤3: 访问系统
在浏览器打开: **http://127.0.0.1:5000**

---

## 📋 系统功能导航

### 1. 数据仪表盘 (首页)
- 关键指标卡片展示
- 销售趋势图表
- 热销药品排行
- 库存预警列表

### 2. 基础信息管理
| 模块 | URL | 功能 |
|------|-----|------|
| 药品管理 | /basic/drugs | 药品CRUD、规格价格管理 |
| 员工管理 | /basic/employees | 员工档案、部门职位 |
| 客户管理 | /basic/customers | 客户信息、零售批发分类 |
| 供应商管理 | /basic/suppliers | 供应商资质管理 |

### 3. 库存管理
| 模块 | URL | 功能 |
|------|-----|------|
| 入库登记 | /inventory/stock_in | 采购入库、自动更新库存 |
| 库存查询 | /inventory/stock | 实时库存查看 |
| 库存预警 | /inventory/stock/low | 低库存(<100)预警 |
| 仓库管理 | /inventory/warehouses | 仓库信息管理 |
| 库存盘点 | /inventory/check | 盘点记录、差异处理 |
| 退货处理 | /inventory/return | 向供应商退货 |

### 4. 销售管理
| 模块 | URL | 功能 |
|------|-----|------|
| 销售登记 | /sales/sales | 开单、自动扣库存 |
| 销售退货 | /sales/return | 退货登记、库存回补 |
| 财务统计 | /sales/finance | 日月报表生成 |
| 周销售报表 | /sales/report/week | 最近7天销售统计 |
| 药品排行 | /sales/report/top | 销售TOP20 |

---

## 🎨 UI特性

### 1. 现代化设计
- 渐变色背景和卡片
- 响应式布局
- 图标化导航
- 平滑动画过渡

### 2. 按钮特效
```css
- 悬停渐变效果
- 波纹点击动画  
- 颜色过渡
- 阴影提升
```

### 3. 数据可视化
- Chart.js折线图/柱状图
- 实时数据更新
- 交互式图表

---

## 📊 测试数据说明

### 药品示例
- 阿莫西林胶囊、感冒灵颗粒、布洛芬...
- 涵盖处方/非处方
- 自动生成价格、有效期

### 员工账号
```
账号: zhangsan  密码: 123456  (销售经理)
账号: lisi      密码: 123456  (仓管员)
账号: wangwu    密码: 123456  (采购员)
账号: zhaoliu   密码: 123456  (会计)
```

### 销售数据
- 随机生成近30天的销售记录
- 用于演示图表和统计功能

---

## 🔧 常见问题

### Q1: 启动报错 "No module named 'flask_sqlalchemy'"
```bash
# 解决方法
pip install flask flask-sqlalchemy
```

### Q2: 如何重置数据？
```bash
# 重新运行初始化脚本
python init_data.py
```

### Q3: 如何修改端口？
在 `app.py` 最后一行：
```python
app.run(debug=True, port=8080)  # 改为8080端口
```

### Q4: 数据库在哪里？
`medicine.db` 文件在项目根目录，使用SQLite。

---

## 📈 功能演示流程

### 完整业务流程示例：

1. **添加药品** (基础信息管理 → 药品管理 → 添加)
2. **入库登记** (库存管理 → 入库登记 → 新增入库)
3. **查看库存** (库存管理 → 库存查询)
4. **销售开单** (销售管理 → 销售登记 → 新增销售)
5. **查看报表** (销售管理 → 周销售报表)
6. **仪表盘** (首页查看总览数据)

---

## 🎯 核心业务逻辑

### 1. 入库流程
```
选择药品和供应商 → 填写数量价格 → 提交
↓
自动更新库存表 (+数量)
记录入库日志
```

### 2. 销售流程
```
选择药品和客户 → 填写数量 → 提交
↓
检查库存是否充足
↓
库存充足: 扣减库存 (-数量) + 记录销售
库存不足: 提示错误
```

### 3. 退货流程
```
选择原销售单 → 填写退货数量和原因 → 提交
↓
增加库存 (+数量)
记录退货日志
```

---

## 💡 扩展建议

### 短期优化
- [ ] 添加用户登录验证
- [ ] 数据导出Excel功能
- [ ] 打印销售单据
- [ ] 药品库存预警推送

### 中期规划
- [ ] 权限管理系统
- [ ] 移动端适配
- [ ] 批量导入药品
- [ ] 高级数据统计

### 长期目标
- [ ] 库存智能预测
- [ ] 微信小程序
- [ ] 进销存一体化
- [ ] BI数据分析

---

## 📞 技术支持

遇到问题？
1. 查看控制台错误信息
2. 检查 `medicine.db` 是否生成
3. 确认Python环境和依赖包
4. 查看 SYSTEM_README.md 详细文档

---

## ✨ 开始使用吧！

```bash
# 1. 生成测试数据
python init_data.py

# 2. 启动服务
python app.py

# 3. 打开浏览器
http://127.0.0.1:5000
```

祝使用愉快！🎉
