Table drug_info {
  drug_id int [pk]
  name varchar
  spec varchar
  manufacturer varchar
  approval_number varchar
  category varchar
  unit varchar
  purchase_price decimal
  sale_price decimal
  expiry_date date
  status varchar
  create_time datetime
  update_time datetime
}

Table employee_info {
  employee_id int [pk]
  name varchar
  department varchar
  position varchar
  phone varchar
  hire_date date
  account varchar
  password varchar
  status varchar
  create_time datetime
  update_time datetime
}

Table customer_info {
  customer_id int [pk]
  name varchar
  type varchar
  contact varchar
  phone varchar
  address varchar
  create_time datetime
  update_time datetime
}

Table supplier_info {
  supplier_id int [pk]
  name varchar
  contact varchar
  phone varchar
  address varchar
  qualification_no varchar
  create_time datetime
  update_time datetime
}

Table permission {
  permission_id int [pk]
  name varchar
  description varchar
}

Table role {
  role_id int [pk]
  name varchar
  description varchar
}

Table role_permission {
  id int [pk]
  role_id int [ref: > role.role_id]
  permission_id int [ref: > permission.permission_id]
}

Table user_role {
  id int [pk]
  employee_id int [ref: > employee_info.employee_id]
  role_id int [ref: > role.role_id]
}

Table system_log {
  log_id int [pk]
  employee_id int [ref: > employee_info.employee_id]
  action_type varchar
  table_name varchar
  action_time datetime
  action_content text
}

Table stock_in {
  stock_in_id int [pk]
  drug_id int [ref: > drug_info.drug_id]
  supplier_id int [ref: > supplier_info.supplier_id]
  quantity int
  unit_price decimal
  total_price decimal
  stock_in_date date
  employee_id int [ref: > employee_info.employee_id]
  remark varchar
  create_time datetime
}

Table inventory {
  inventory_id int [pk]
  drug_id int [ref: > drug_info.drug_id]
  warehouse_id int [ref: > warehouse.warehouse_id]
  quantity int
  location varchar
  last_check_date date
  create_time datetime
  update_time datetime
}

Table warehouse {
  warehouse_id int [pk]
  name varchar
  address varchar
  manager_id int [ref: > employee_info.employee_id]
  create_time datetime
}

Table inventory_check {
  check_id int [pk]
  drug_id int [ref: > drug_info.drug_id]
  warehouse_id int [ref: > warehouse.warehouse_id]
  checked_quantity int
  actual_quantity int
  diff_reason varchar
  check_date date
  employee_id int [ref: > employee_info.employee_id]
  create_time datetime
}

Table return_stock {
  return_id int [pk]
  drug_id int [ref: > drug_info.drug_id]
  supplier_id int [ref: > supplier_info.supplier_id]
  quantity int
  reason varchar
  return_date date
  employee_id int [ref: > employee_info.employee_id]
  create_time datetime
}

Table sales {
  sales_id int [pk]
  drug_id int [ref: > drug_info.drug_id]
  customer_id int [ref: > customer_info.customer_id]
  quantity int
  unit_price decimal
  total_price decimal
  sales_date date
  employee_id int [ref: > employee_info.employee_id]
  create_time datetime
}

Table sales_return {
  sales_return_id int [pk]
  sales_id int [ref: > sales.sales_id]
  quantity int
  reason varchar
  return_date date
  employee_id int [ref: > employee_info.employee_id]
  create_time datetime
}

Table finance_stat {
  stat_id int [pk]
  stat_type varchar
  stat_date date
  total_sales decimal
  total_cost decimal
  total_profit decimal
  employee_id int [ref: > employee_info.employee_id]
  create_time datetime
}
